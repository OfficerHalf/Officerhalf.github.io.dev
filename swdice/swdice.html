<!DOCTYPE HTML>
<html>
<style>
	body {
		font-size: 16pt;
		font-family: sans-serif;
	}
	th, td {
		padding: 5px;
		text-align: left;
	}
	input[type=number] {
		width: 40px;
	}
	@font-face {
		font-family: EotE;
		src: url("EotESymbol-RegularMod.otf") format("opentype");
	}
</style>
<script type="text/javascript">
	function updateNumDice(type) {
		var count = document.getElementById('num' + type + 'Dice').value;
		for(var i = 1; i <= 10; i++) {
			var die = document.getElementById(type + 'Die' + i);
			if(i <= count)
				die.style.display = "inline";
			else
				die.style.display = "none";
			updateDieValues();
		}
	}
	function updateDieValues() {
		var types = ["Boost", "Setback", "Ability", "Difficulty", "Proficiency", "Challenge", "Force"];
		var countSuccess = 0;
		var countFailure = 0;
		var countAdvantage = 0;
		var countThreat = 0;
		var countTriumph = 0;
		var countDespair = 0;
		var countLight = 0;
		var countDark = 0;
		for(var type = 0; type < 7; type++)
		{
			for(var i = 1; i <=10; i++)
			{
				var die = document.getElementById(types[type] + 'Die' + i);
				if(die.style.display == "none")
					continue;
				var value = die.value;
				if(types[type] == "Boost")
				{
					if(value == 3)
						countSuccess++;
					else if(value == 4) {
						countSuccess++;
						countAdvantage++;
					}
					else if(value == 5)
						countAdvantage += 2;
					else if(value == 6)
						countAdvantage++;
				}
				else if(types[type] == "Setback")
				{
					if(value == 3 || value == 4)
						countFailure++;
					else if(value == 5 || value == 6)
						countThreat++;
				}
				else if(types[type] == "Ability")
				{
					if(value == 2 || value == 3)
						countSuccess++;
					else if(value == 4)
						countSuccess+=2;
					else if(value == 5 || value == 6)
						countAdvantage++;
					else if(value == 7) {
						countSuccess++;
						countAdvantage++;
					}
					else if(value == 8)
						countAdvantage+=2;
				}
				else if(types[type] == "Difficulty")
				{
					if(value == 2)
						countFailure++;
					else if(value == 3)
						countFailure+=2;
					else if(value == 4 || value == 5 || value == 6)
						countThreat++;
					else if(value == 7)
						countThreat+=2;
					else if(value == 8) {
						countFailure++;
						countThreat++;
					}
				}
				else if(types[type] == "Proficiency")
				{
					if(value == 2 || value == 3)
						countSuccess++;
					else if(value == 4 || value == 5)
						countSuccess+=2;
					else if(value == 6)
						countAdvantage++;
					else if(value == 7 || value == 8 || value == 9) {
						countSuccess++;
						countAdvantage++;
					}
					else if(value == 10 || value == 11)
						countAdvantage+=2;
					else if(value == 12)
						countTriumph++;
				}
				else if(types[type] == "Challenge")
				{
					if(value == 2 || value == 3)
						countFailure++;
					else if(value == 4 || value == 5)
						countFailure+=2;
					else if(value == 6 || value == 7)
						countThreat++;
					else if(value == 8 || value == 9) {
						countFailure++;
						countThreat++;
					}
					else if(value == 10 || value == 11)
						countThreat+=2;
					else if(value == 12)
						countDespair++;
				}
				else if(types[type] == "Force")
				{
					if(value <= 6 && value >= 1)
						countDark++;
					else if(value == 7)
						countDark+=2;
					else if(value == 8 || value == 9)
						countLight++;
					else if(value >= 10 && value <= 12)
						countLight+=2;
				}
			}
		}
		var success = document.getElementById("totalSuccess");
		var failure = document.getElementById("totalFailure");
		var advantage = document.getElementById("totalAdvantage");
		var threat = document.getElementById("totalThreat");
		var triumph = document.getElementById("totalTriumph");
		var despair = document.getElementById("totalDespair");
		var light = document.getElementById("totalLight");
		var dark = document.getElementById("totalDark");
		success.innerHTML = countSuccess;
		failure.innerHTML = countFailure;
		advantage.innerHTML = countAdvantage;
		threat.innerHTML = countThreat;
		triumph.innerHTML = countTriumph;
		despair.innerHTML = countDespair;
		light.innerHTML = countLight;
		dark.innerHTML = countDark;
	}
</script>
<body>
<p><h2>Standard dice to Edge of the Empire dice Converter</h2>

Just put in the number of each die rolled (max 10), and the corresponding d6/d8/d12 value, and the totals will be displayed below.</p>
<p><table id="dicetable">
	<tr>
		<th>Sym</th>
		<th>Die Type</th>
		<th>Sides</th>
		<th>Count</th>
		<th>Values</th>
	</tr>
	<script type="text/javascript">
		var types = ["Boost", "Setback", "Ability", "Difficulty", "Proficiency", "Challenge", "Force"];
		var sides = ["d6", "d6", "d8", "d8", "d12", "d12", "d12"];
		var symColors = ["#b8d7f6", "#000000", "#4a7643", "#371144", "#f0d85a", "#c82423", "#000000"];
		var syms = ["b", "b", "d", "d", "c", "c", "C"];
		var tbl = document.getElementById("dicetable");
		for (var type = 0; type < types.length; type++) {
			var row = tbl.insertRow(type+1);
			var cellSym = row.insertCell(0);
			cellSym.style.fontFamily = "EotE";
			cellSym.style.color = symColors[type];
			cellSym.style.textAlign = "center";
			cellSym.innerHTML = syms[type];
			var cellType = row.insertCell(1);
			cellType.innerHTML = types[type];
			var cellSides = row.insertCell(2);
			cellSides.style.textAlign = "center";
			cellSides.innerHTML = sides[type];
			var cellNum = row.insertCell(3);
			cellNum.style.textAlign = "center";
			cellNum.innerHTML = '<input maxlength="4" type="number" id="num' + types[type] + 'Dice" value="0" oninput="updateNumDice(\'' + types[type] + '\')">';
			for(var i = 1; i <=10; i++) {
				var cell = row.insertCell(i+3)
				cell.innerHTML = '<input maxlength="2" type="number" id="' + types[type] + 'Die' + i + '" value="0" onchange="updateDieValues()">';
				document.getElementById(types[type] + 'Die' + i).style.display = "none"
			}
		}
	</script>
</table></p>
<p><table>
	<tr>
		<th>Sym</th>
		<th>Type</th>
		<th>Total</th>
	</tr>
	<tr>
		<td style="font-family: EotE;">s</td>
		<td>Success</td>
		<td id="totalSuccess" style="text-align: center;">0</td>
	</tr>
	<tr>
		<td style="font-family: EotE;">f</td>
		<td>Failure</td>
		<td id="totalFailure" style="text-align: center;">0</td>
	</tr>
	<tr>
		<td style="font-family: EotE;">a</td>
		<td>Advantage</td>
		<td id="totalAdvantage" style="text-align: center;">0</td>
	</tr>
	<tr>
		<td style="font-family: EotE;">t</td>
		<td>Threat</td>
		<td id="totalThreat" style="text-align: center;">0</td>
	</tr>
	<tr>
		<td style="font-family: EotE;">x</td>
		<td>Triumph</td>
		<td id="totalTriumph" style="text-align: center;">0</td>
	</tr>
	<tr>
		<td style="font-family: EotE;">o</td>
		<td>Despair</td>
		<td id="totalDespair" style="text-align: center;">0</td>
	</tr>
	<tr>
		<td style="font-family: EotE;">Z</td>
		<td>Light</td>
		<td id="totalLight" style="text-align: center;">0</td>
	</tr>
	<tr>
		<td style="font-family: EotE;">z</td>
		<td>Dark</td>
		<td id="totalDark" style="text-align: center;">0</td>
	</tr>
</table></p>
</body>
</html>