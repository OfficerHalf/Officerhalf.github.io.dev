<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon.ico" rel="icon"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><meta content="Web site created using create-react-app" name="description"><link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet"><link href="/logo192.png" rel="apple-touch-icon"><link href="/manifest.json" rel="manifest"><script type="text/javascript">!function(i){if(i.search){var a={};i.search.slice(1).split("&").forEach((function(i){var l=i.split("=");a[l[0]]=l.slice(1).join("=").replace(/~and~/g,"&")})),void 0!==a.p&&window.history.replaceState(null,null,i.pathname.slice(0,-1)+(a.p||"")+(a.q?"?"+a.q:"")+i.hash)}}(window.location)</script><style>@font-face{font-family:'Cascadia Code PL';src:url(/CascadiaCodePL.woff2)}</style><title>Nathan Smith</title><link href="/static/css/2.ca3edc6c.chunk.css" rel="stylesheet"><link href="/static/css/main.5b3c8666.chunk.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><style data-emotion="css-global">html{box-sizing:border-box;color:#333;font-family:Lato,sans-serif;font-size:16px}h1{font-size:2em;font-weight:300}h2{font-size:1.5em;font-weight:300}h3{font-size:1.3em;font-weight:400}h4{font-size:1.15em;font-weight:400}p{font-size:1em;font-weight:400}h1,h2,h3,h4,p{margin:0}h1 .muted,h2 .muted,h3 .muted,h4 .muted,p .muted{color:#707070}*,::after,::before{box-sizing:inherit}</style><style data-emotion="css-global">body{background-color:#e7ecef}</style><style data-emotion="css">.css-m94chg{background-color:#377771;color:#fff;padding:16px}.css-m94chg ul{display:flex;list-style:none;margin:0;padding:0}.css-m94chg ul li{display:block;margin:0 12px;cursor:pointer}.css-m94chg ul li:first-child{margin-left:0}.css-m94chg ul li:last-child{margin-right:0}.css-m94chg ul li.spacer{cursor:initial;-webkit-box-flex:1;flex-grow:1}.css-m94chg ul li a{text-decoration:none}.css-m94chg ul li a,.css-m94chg ul li a:active,.css-m94chg ul li a:hover,.css-m94chg ul li a:visited{color:#fff}.css-m94chg ul li a:hover{text-decoration:underline}</style><link href="https://fonts.gstatic.com" rel="preconnect"><link href="https://api.buttercms.com" rel="preconnect"><link href="https://raw.githubusercontent.com" rel="preconnect"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div><header class="css-m94chg"><ul><li><a href="/"><h2 class="">Nathan Smith</h2></a></li><li class="spacer"></li><li><a href="/about"><h2 class="">About</h2></a></li><li><a href="/contact"><h2 class="">Contact</h2></a></li></ul></header><div><h1>Using thefuck On Windows, With Clink & Cmder</h1><h4>August 14, 2018, 3:16 PM</h4><div class="line-numbers"><p>We all make mistakes, and sometimes we get angry about them. <a href="https://github.com/nvbn/thefuck" rel="noopener" target="_blank" title="The Fuck">thefuck</a> is a handy Python script that turns that anger into something useful by suggesting a correction to a previously failed command.</p><figure class="image"><img alt="thefuck Example" src="https://raw.githubusercontent.com/nvbn/thefuck/master/example.gif"><figcaption>thefuck Example</figcaption></figure><p>So, lets make it work on Windows, which will require <a href="https://mridgers.github.io/clink/" rel="noopener" target="_blank">Clink</a> or <a href="http://cmder.net/" rel="noopener" target="_blank">Cmder</a>. Clink adds some Unix-like features to the Windows command prompt, while Cmder is a package that includes Clink along with a number of other applications to provide a complete terminal solution for Windows. Both are free, and Cmder is always one of the first things I install on a new computer. It's really the best way to use the terminal on Windows. Lets get started. <em>Caveat: this is probably not the best way to make this work, but it's what I came up with while bored at work.</em></p><h2>Prerequisites</h2><ol><li>Install <a href="https://mridgers.github.io/clink/">Clink</a>, or better yet, <a href="http://cmder.net/" rel="noopener" target="_blank">Cmder</a>.</li><li>Install thefuck with pip: <code>pip install thefuck</code></li><li>Enable Clink history: <code>clink set history_io 1</code></li></ol><h2>Create the Alias</h2><p>thefuck works by having platform specific aliases to get the last run command, fix your mistake, and then run the fixed command. Because there's no Windows specific alias (excluding PowerShell, which can be setup following <a href="https://github.com/nvbn/thefuck/wiki/Shell-aliases#powershell" rel="noopener" target="_blank">these directions</a>), we have to make our own. Save this file as <code>thefuckcmder.bat</code> or some other <code>.bat</code> filename. Remember where you save it or ensure it's available in your PATH.</p><p><strong>For Clink</strong></p><pre class="language-batch line-numbers"><code class="language-batch">@echo off
set PYTHONIOENCODING=utf-8
set PYTHONLEGACYWINDOWSSTDIO=yes
tail -n 2 %LOCALAPPDATA%\clink\.history | head -n 1 > %LOCALAPPDATA%\clink\fucked_cmd.txt
set /p fucked_cmd=&lt;%LOCALAPPDATA%\clink\fucked_cmd.txt
thefuck %fucked_cmd% > %LOCALAPPDATA%\clink\unfucked.cmd
call %LOCALAPPDATA%\clink\unfucked.cmd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>For Cmder</strong></p><pre class="language-batch line-numbers"><code class="language-batch">@echo off
set PYTHONIOENCODING=utf-8
set PYTHONLEGACYWINDOWSSTDIO=yes
tail -n 2 %CMDER_ROOT%\config\.history | head -n 1 > %CMDER_ROOT%\config\fucked_cmd.txt
set /p fucked_cmd=&lt;%CMDER_ROOT%\config\fucked_cmd.txt
thefuck %fucked_cmd% > %CMDER_ROOT%\config\unfucked.cmd
call %CMDER_ROOT%\config\unfucked.cmd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Now we have to create the alias that calls that script, replacing 'thefuckcmder' with the path to your script.</p><p><strong>For Clink</strong></p><pre class="language-batch line-numbers"><code class="language-batch">doskey fuck=thefuckcmder<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>For Cmder</strong></p><pre class="language-batch line-numbers"><code class="language-batch">alias fuck=thefuckcmder<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>After you restart your shell, running a failing command and <code>fuck</code> should work as expected.</p></div></div></div></div><script>!function(e){function t(t){for(var n,i,l=t[0],f=t[1],a=t[2],c=0,s=[];c<l.length;c++)i=l[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&s.push(o[i][0]),o[i]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(t);s.length;)s.shift()();return u.push.apply(u,a||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,l=1;l<r.length;l++){var f=r[l];0!==o[f]&&(n=!1)}n&&(u.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={1:0},u=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=this["webpackJsonpdev-site"]=this["webpackJsonpdev-site"]||[],f=l.push.bind(l);l.push=t,l=l.slice();for(var a=0;a<l.length;a++)t(l[a]);var p=f;r()}([])</script><script src="/static/js/2.e65eb1f7.chunk.js"></script><script src="/static/js/main.862cb4f0.chunk.js"></script></body></html>