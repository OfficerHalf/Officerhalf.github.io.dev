<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon.ico" rel="icon"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><meta content="Web site created using create-react-app" name="description"><link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet"><link href="/logo192.png" rel="apple-touch-icon"><link href="/manifest.json" rel="manifest"><script type="text/javascript">!function(i){if(i.search){var a={};i.search.slice(1).split("&").forEach((function(i){var l=i.split("=");a[l[0]]=l.slice(1).join("=").replace(/~and~/g,"&")})),void 0!==a.p&&window.history.replaceState(null,null,i.pathname.slice(0,-1)+(a.p||"")+(a.q?"?"+a.q:"")+i.hash)}}(window.location)</script><style>@font-face{font-family:'Cascadia Code PL';src:url(/CascadiaCodePL.woff2)}</style><title>Nathan Smith</title><link href="/static/css/2.ca3edc6c.chunk.css" rel="stylesheet"><link href="/static/css/main.24b1d68f.chunk.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><style data-emotion="css-global">html{box-sizing:border-box;color:#333;font-family:Lato,sans-serif;font-size:16px}h1{font-size:2em;font-weight:300}h2{font-size:1.5em;font-weight:300}h3{font-size:1.3em;font-weight:400}h4{font-size:1.15em;font-weight:400}p{font-size:1em;font-weight:400}h1,h2,h3,h4,p{margin:0}h1 .muted,h2 .muted,h3 .muted,h4 .muted,p .muted{color:#707070}*,::after,::before{box-sizing:inherit}</style><style data-emotion="css-global">body{background-color:#e7ecef}</style><style data-emotion="css">.css-1lqfg8b{background-color:#377771;color:#fff;padding:16px}.css-azszlm{display:flex;list-style:none;margin:0;padding:0}.css-azszlm>li{display:block;margin:0 12px;cursor:pointer}.css-azszlm>li:first-child{margin-left:0}.css-azszlm>li:last-child{margin-right:0}.css-azszlm>li.spacer{cursor:initial;-webkit-box-flex:1;flex-grow:1}.css-azszlm>li a{text-decoration:none}.css-azszlm>li a,.css-azszlm>li a:active,.css-azszlm>li a:hover,.css-azszlm>li a:visited{color:#fff}.css-azszlm>li a:hover{text-decoration:underline}.css-f5kvh0[data-animation=fade][data-state=hidden]{opacity:0}.css-f5kvh0 [data-tippy-root]{max-width:calc(100vw - 10px)}.css-f5kvh0{transition-property:transform,visibility,opacity}.css-f5kvh0[data-placement^=top]>.tippy-arrow{bottom:0}.css-f5kvh0[data-placement^=top]>.tippy-arrow::before{bottom:-3px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.css-f5kvh0[data-placement^=bottom]>.tippy-arrow{top:0}.css-f5kvh0[data-placement^=bottom]>.tippy-arrow::before{top:-3px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.css-f5kvh0[data-placement^=left]>.tippy-arrow{right:0}.css-f5kvh0[data-placement^=left]>.tippy-arrow::before{border-width:8px 0 8px 8px;border-left-color:initial;right:-3px;transform-origin:left center}.css-f5kvh0[data-placement^=right]>.tippy-arrow{left:0}.css-f5kvh0[data-placement^=right]>.tippy-arrow::before{left:-3px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:right center}.css-f5kvh0[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.css-f5kvh0 .tippy-arrow{width:16px;height:16px;color:#fff}.css-f5kvh0 .tippy-arrow::before{content:"";position:absolute;border-color:transparent;border-style:solid}.css-f5kvh0 .tippy-content{position:relative;padding:5px 9px;z-index:1}.css-rxcuqt{margin:24px auto 16px;max-width:900px}.css-wjtp6{display:block;color:#333;padding:0;margin:0;box-shadow:rgba(0,0,0,.2) 0 2px 4px -1px,rgba(0,0,0,.14) 0 4px 5px 0,rgba(0,0,0,.12) 0 1px 10px 0}.css-wjtp6 li{min-width:100px;display:block;position:relative;margin:0;padding:8px;min-height:20px;background-color:#fff;transition:background-color .3s ease-in-out 0s;text-align:center}.css-wjtp6 li:hover{background-color:#4ce0b3}.css-1wla3xl{margin-bottom:4px}.css-8qbqv4{margin-bottom:12px}.css-171uofl{margin-bottom:24px}.css-171uofl p{margin-bottom:16px;margin-top:4px}.css-171uofl h1,.css-171uofl h2{margin-bottom:4px}.css-171uofl h3,.css-171uofl h4{margin-bottom:16px}.css-16jc9vm{display:flex;margin-bottom:4px}.css-16jc9vm .tag-icon{width:16px;height:16px;fill:#999}.css-16jc9vm .tag-link{color:#707070;text-decoration:none}.css-16jc9vm .tag-link:hover{text-decoration:underline}.css-16jc9vm .tag-link:not(:last-child){margin-right:4px}.css-16jc9vm .tag-link:not(:first-child){margin-left:4px}.css-pyf139{font-size:.8em;font-weight:400}</style><link href="https://fonts.gstatic.com" rel="preconnect"><link href="https://api.buttercms.com" rel="preconnect"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div><header class="css-1lqfg8b"><ul class="css-azszlm"><li><a href="/"><h2 class="">Nathan Smith</h2></a></li><li class="spacer"></li><li><h2 class="" aria-expanded="false">Projects</h2></li><li><a href="/about"><h2 class="">About</h2></a></li><li><a href="/contact"><h2 class="">Contact</h2></a></li></ul></header><div class="css-rxcuqt"><h1 class="css-1wla3xl">Why functional components are the future of React (but hooks are dangerous)</h1><h4 class="css-8qbqv4">June 24, 2019, 8:21 PM—<a href="/blog/category/react">React</a></h4><div class="css-171uofl line-numbers"><p>I was skeptical. Why would I ever write a functional component instead of a class component? The promised benefits of functional components are either subjective, no longer true, or never were true. It's now just as easy to shoot yourself in the foot with functional components thanks to hooks like <code>useState</code>. The promised performance benefits of functional components still haven't been realized. And yet, I'm now a believer.</p><p>I have most of a Medium article written titled <em>Hooks are bad for React. </em>Most of the article is dedicated to showing why functional components <em>with hooks </em>are almost the same as class components, so why use functional components? And to a degree, I still believe that, but I never published that article because I saw the ugly truth about React and class components the first time I worked on a React project <em>with other people.</em></p><p class="callout">Not working in isolation makes all the difference.</p><p>The two developers I'm working with started out with little React experience; immediately, they started putting state where it shouldn't have been, deriving state from props without cause, and adding multiple seconds to the build time with <code>node-sass</code>. Horrifying! One of the developers has soaked up advice and pointers like a sponge. For example, once I explained why it was better to derive a value on every render rather than derive state from props, they quickly refactored the offending code. The other developer, however, seems convinced that large, bloated, stateful components are the way, rather than composing a component from multiple subcomponents. Once, the other two developers were on vacation so I quickly refactored the 2nd developer's code to improve reuse, maintainability, and testability. The main way I did this was by converting as many components as I could to functional components.</p><p>This had a few side-effects. At the time, we hadn't used any hooks in the project, and I honestly don't think this particular developer was aware of their existence. So I made the components functional to handicap their ability to write bad code. The best way to manage a project? No. But I'm not technically in charge of these developers, so it's difficult to make executive decisions. The best I can do is offer comments in code reviews.</p><p>But hooks have defeated me. This problematic developer learned about the new hotness and I knew I was in trouble when <code>React.useEffect</code> showed up in a code review. This particular effect was being used to clear the browser history to fix an architecture issue, rather than refactor to avoid the need for the history clear. More (inappropriate) hooks followed. And this is why I still believe that hooks, while maybe not <em>bad </em>for React, are dangerous if the fundamental concepts of React are not well learned.</p></div><div class="css-16jc9vm"><svg class="tag-icon" viewBox="0 0 20 20" xml:space="http://www.w3.org/2000/svg"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg><a href="/blog/tag/development" class="tag-link"><p class="css-pyf139">development</p></a><a href="/blog/tag/hooks" class="tag-link"><p class="css-pyf139">hooks</p></a><a href="/blog/tag/react" class="tag-link"><p class="css-pyf139">react</p></a></div><div class="css-1wla3xl">Previous: <a href="/blog/post/metal-synthwave-are-the-same-thing">Metal & Synthwave are the Same Thing</a></div><div class="css-1wla3xl">Next: <a href="/blog/post/publishing-a-dev-and-production-cra-app-to-gh-pages">Publishing a Dev and Production CRA App to GH Pages</a></div></div></div></div><script>!function(e){function t(t){for(var n,i,l=t[0],f=t[1],a=t[2],c=0,s=[];c<l.length;c++)i=l[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&s.push(o[i][0]),o[i]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(t);s.length;)s.shift()();return u.push.apply(u,a||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,l=1;l<r.length;l++){var f=r[l];0!==o[f]&&(n=!1)}n&&(u.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={1:0},u=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=this["webpackJsonpdev-site"]=this["webpackJsonpdev-site"]||[],f=l.push.bind(l);l.push=t,l=l.slice();for(var a=0;a<l.length;a++)t(l[a]);var p=f;r()}([])</script><script src="/static/js/2.4a4d27d5.chunk.js"></script><script src="/static/js/main.bcdf59e1.chunk.js"></script></body></html>