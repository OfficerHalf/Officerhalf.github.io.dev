<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon.ico" rel="icon"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><meta content="Web site created using create-react-app" name="description"><link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet"><link href="/logo192.png" rel="apple-touch-icon"><link href="/manifest.json" rel="manifest"><script type="text/javascript">!function(i){if(i.search){var a={};i.search.slice(1).split("&").forEach((function(i){var l=i.split("=");a[l[0]]=l.slice(1).join("=").replace(/~and~/g,"&")})),void 0!==a.p&&window.history.replaceState(null,null,i.pathname.slice(0,-1)+(a.p||"")+(a.q?"?"+a.q:"")+i.hash)}}(window.location)</script><style>@font-face{font-family:'Cascadia Code PL';src:url(/CascadiaCodePL.woff2)}</style><title>Nathan Smith</title><link href="/static/css/2.ca3edc6c.chunk.css" rel="stylesheet"><link href="/static/css/main.5b3c8666.chunk.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><style data-emotion="css-global">html{box-sizing:border-box;color:#333;font-family:Lato,sans-serif;font-size:16px}h1{font-size:2em;font-weight:300}h2{font-size:1.5em;font-weight:300}h3{font-size:1.3em;font-weight:400}h4{font-size:1.15em;font-weight:400}p{font-size:1em;font-weight:400}h1,h2,h3,h4,p{margin:0}h1 .muted,h2 .muted,h3 .muted,h4 .muted,p .muted{color:#707070}*,::after,::before{box-sizing:inherit}</style><style data-emotion="css-global">body{background-color:#e7ecef}</style><style data-emotion="css">.css-m94chg{background-color:#377771;color:#fff;padding:16px}.css-m94chg ul{display:flex;list-style:none;margin:0;padding:0}.css-m94chg ul li{display:block;margin:0 12px;cursor:pointer}.css-m94chg ul li:first-child{margin-left:0}.css-m94chg ul li:last-child{margin-right:0}.css-m94chg ul li.spacer{cursor:initial;-webkit-box-flex:1;flex-grow:1}.css-m94chg ul li a{text-decoration:none}.css-m94chg ul li a,.css-m94chg ul li a:active,.css-m94chg ul li a:hover,.css-m94chg ul li a:visited{color:#fff}.css-m94chg ul li a:hover{text-decoration:underline}</style><link href="https://fonts.gstatic.com" rel="preconnect"><link href="https://api.buttercms.com" rel="preconnect"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div><header class="css-m94chg"><ul><li><a href="/"><h2 class="">Nathan Smith</h2></a></li><li class="spacer"></li><li><a href="/about"><h2 class="">About</h2></a></li><li><a href="/contact"><h2 class="">Contact</h2></a></li></ul></header><div><h1>Why functional components are the future of React (but hooks are dangerous)</h1><h4>June 24, 2019, 8:21 PM</h4><div class="line-numbers"><p>I was skeptical. Why would I ever write a functional component instead of a class component? The promised benefits of functional components are either subjective, no longer true, or never were true. It's now just as easy to shoot yourself in the foot with functional components thanks to hooks like <code>useState</code>. The promised performance benefits of functional components still haven't initialized. And yet, I'm now a believer.</p><p>I have most of a Medium article written titled <em>Hooks are bad for React. </em>Most of the article is dedicated to showing why functional components <em>with hooks </em>are almost the same as class components, so why use functional components? And to a degree, I still believe that, but I never published that article because I saw the ugly truth about React and class components the first time I worked on a React project <em>with other people.</em></p><p class="callout">Not working in isolation makes all the difference.</p><p>The two developers I'm working with started out with little React experience; immediately, they started putting state where it shouldn't have been, deriving state from props without cause, and adding multiple seconds to the build time with <code>node-sass</code>. Horrifying! One of the developers has soaked up advice and pointers like a sponge. For example, once I explained why it was better to derive a value on every render rather than derive state from props, they quickly refactored the offending code. The other developer, however, seems convinced that large, bloated, stateful components are the way, rather than composing a component from multiple subcomponents. Once, the other two developers were on vacation so I quickly refactored the 2nd developer's code to improve reuse, maintainability, and testability. The main way I did this was by converting as many components as I could to functional components.</p><p>This had a few side-effects. At the time, we hadn't used any hooks in the project, and I honestly don't think this particular developer was aware of their existence. So I made the components functional to handicap their ability to write bad code. The best way to manage a project? No. But I'm not technically in charge of these developers, so it's difficult to make executive decisions. The best I can do is offer comments in code reviews.</p><p>But hooks have defeated me. This problematic developer learned about the new hotness and I knew I was in trouble when <code>React.useEffect</code> showed up in a code review. This particular effect was being used to clear the browser history to fix an architecture issue, rather than refactor to avoid the need for the history clear. More (inappropriate) hooks followed. And this is why I still believe that hooks, while maybe not <em>bad </em>for React, are dangerous if the fundamental concepts of React are not well learned.</p></div></div></div></div><script>!function(e){function t(t){for(var n,i,l=t[0],f=t[1],a=t[2],c=0,s=[];c<l.length;c++)i=l[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&s.push(o[i][0]),o[i]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(t);s.length;)s.shift()();return u.push.apply(u,a||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,l=1;l<r.length;l++){var f=r[l];0!==o[f]&&(n=!1)}n&&(u.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={1:0},u=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=this["webpackJsonpdev-site"]=this["webpackJsonpdev-site"]||[],f=l.push.bind(l);l.push=t,l=l.slice();for(var a=0;a<l.length;a++)t(l[a]);var p=f;r()}([])</script><script src="/static/js/2.e65eb1f7.chunk.js"></script><script src="/static/js/main.862cb4f0.chunk.js"></script></body></html>